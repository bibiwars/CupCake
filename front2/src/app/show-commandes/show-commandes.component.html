<section class="widget" widget>
    <header>
        <h1 class="page-title"><span class="fw-semi-bold"> Liste des commandes</span></h1>
    </header>
    <notifier-container></notifier-container>
    <div class="widget-body">
        <div class="mt">
            <div class="float-right mb">
                <div class="input-group input-group-rounded">
                    <span class="input-group-addon">

                    </span>
                    <input class="form-control input-transparant search-input" (keyup)='updateFilterCommandes()'
                        type="text" placeholder="Rechercher commande" [(ngModel)]="filterCommandes">
                </div>
            </div>
            <div>
                <br>
                <ngx-datatable class="table table-striped table-hover" [rows]="commandes" [columnMode]="'force'"
                    [reorderable]="false" [swapColumns]="false" [headerHeight]="50" [footerHeight]="50"
                    [rowHeight]="'auto'" [limit]="8">
                    <ngx-datatable-column name="Utilisateur" prop="etat_cmd">
                    </ngx-datatable-column>
                    <ngx-datatable-column name="réference" prop="ref_cmd">
                    </ngx-datatable-column>
                    <ngx-datatable-column name="date">
                        <ng-template ngx-datatable-cell-template let-value="value" let-row="row"
                            let-rowIndex="rowIndex">
                            {{row.date_cmd| date: 'dd/MM/yyyy'}}
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column name="facture">
                        <ng-template ngx-datatable-cell-template let-value="value" let-row="row"
                            let-rowIndex="rowIndex">
                            <span><a href="https://127.0.0.1:8001/assets/{{row.ref_cmd}}.pdf"><i class="fa fa-file fa-2x" style="cursor: pointer
                            "></i></a></span>&nbsp;&nbsp;
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column name="opération">
                        <ng-template ngx-datatable-cell-template let-value="value" let-row="row"
                            let-rowIndex="rowIndex">
                            <span><i (click)="delete(row)" class="glyphicon glyphicon-remove fa-2x" style="color:#db4912;     cursor: pointer
                            "></i></span>&nbsp;&nbsp;
                        </ng-template>
                    </ngx-datatable-column>
                </ngx-datatable>
            </div>
        </div>
    </div>
</section>